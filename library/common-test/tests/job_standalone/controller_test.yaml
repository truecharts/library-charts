suite: job strategy test
templates:
  - common.yaml
tests:
  - it: should pass with strategy changed in job
    documentIndex: &jobDoc 2
    set:
      controller:
        type: Job
    asserts:
      - hasDocuments:
          count: 3
      - isKind:
          of: Job

  - it: should pass with job options changed in job
    documentIndex: *jobDoc
    set:
      controller:
        type: Job
        backoffLimit: 11
        ttlSecondsAfterFinished: 22
        activeDeadlineSeconds: 33
        parallelism: 44
        completions: 55
        completionMode: Indexed
    asserts:
      - isSubset:
          path: spec
          content:
            backoffLimit: 11
            ttlSecondsAfterFinished: 22
            activeDeadlineSeconds: 33
            parallelism: 44
            completions: 55
            completionMode: Indexed
